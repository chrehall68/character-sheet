<link href="bnb.css" rel="stylesheet" />

<body class="charsheet">
  <div id="root">
    <div class="sheet-App">
      <div id="sheet-header">
        <div class="sheet-row">
          <div class="sheet-title sheet-item">
            <h1 class="sheet-main_content"><img
                src="https://raw.githubusercontent.com/chrehall68/character-sheet/main/public/images/bnblogo.png"
                alt="help"></h1>
          </div>
          <div class="sheet-item sheet-arch">
            <h3 class="sheet-box_label">Archetype: </h3>
            <h2 class="sheet-main_content"><input name="attr_Archetype" type="text" value="Enforcer"></h2>
          </div>
          <div class="sheet-item sheet-class">
            <h3 class="sheet-box_label">Class: </h3>
            <h2 class="sheet-main_content"><input name="attr_Class" type="text" value="Gunzerker"></h2>
          </div>
        </div>
        <div class="sheet-row">
          <div class="sheet-item sheet-name">
            <h3 class="sheet-box_label">Name: </h3>
            <h2 class="sheet-main_content"><input name="attr_Name" type="text" value=""></h2>
          </div>
          <div class="sheet-item sheet-bg">
            <h3 class="sheet-box_label">Background: </h3>
            <h2 class="sheet-main_content"><input name="attr_Background" type="text" value="Buff"></h2>
          </div>
          <div class="sheet-item sheet-lvl">
            <h3 class="sheet-box_label">Level: </h3>
            <h2 class="sheet-main_content"><input name="attr_Level" type="number" value="1"></h2>
          </div>
        </div>
        <div class="sheet-row">
          <div class="sheet-item sheet-skill">
            <h3 class="sheet-box_label">Action Skill: </h3><textarea name="attr_action_skill"
              class="sheet-main_content sheet-last" style="resize: none;"></textarea>
            <div class="sheet-mod_wrapper">
              <div class="sheet-mod sheet-modifier">
                <div class="sheet-mod"><input name="attr_mstmodHeader" type="number" disabled="" value="(@{mst_mod})">
                </div>
                <p class="sheet-small">MST</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="sheet-body"><span class="sheet-smallAttr">
          <h4 class="sheet-header">Accuracy (ACC)</h4>
          <div class="sheet-contentRow"><input name="attr_raw_acc" class="sheet-value" type="number">
            <div class="sheet-attr_mod sheet-modifier" style="height: 44px;">
              <div class="sheet-mod"><input name="attr_acc_mod" type="number" disabled="" value="(floor(@{raw_acc}/2))">
              </div>
              <p class="sheet-small">mod</p>
            </div>
          </div>
        </span><span class="sheet-smallAttr">
          <h4 class="sheet-header">Damage (DMG)</h4>
          <div class="sheet-contentRow"><input name="attr_raw_dmg" class="sheet-value" type="number">
            <div class="sheet-attr_mod sheet-modifier" style="height: 44px;">
              <div class="sheet-mod"><input name="attr_dmg_mod" type="number" disabled="" value="(floor(@{raw_dmg}/2))">
              </div>
              <p class="sheet-small">mod</p>
            </div>
          </div>
        </span><span class="sheet-smallAttr">
          <h4 class="sheet-header">Speed (SPD)</h4>
          <div class="sheet-contentRow"><input name="attr_raw_spd" class="sheet-value" type="number">
            <div class="sheet-attr_mod sheet-modifier" style="height: 44px;">
              <div class="sheet-mod"><input name="attr_spd_mod" type="number" disabled="" value="(floor(@{raw_spd}/2))">
              </div>
              <p class="sheet-small">mod</p>
            </div>
          </div>
        </span><span class="sheet-smallAttr">
          <h4 class="sheet-header">Mastery (MST)</h4>
          <div class="sheet-contentRow"><input name="attr_raw_mst" class="sheet-value" type="number">
            <div class="sheet-attr_mod sheet-modifier" style="height: 44px;">
              <div class="sheet-mod"><input name="attr_mst_mod" type="number" disabled="" value="(floor(@{raw_mst}/2))">
              </div>
              <p class="sheet-small">mod</p>
            </div>
          </div>
        </span>
        <h2 class="sheet-twoRow sheet-longAttrHeader">Initiative</h2>
        <div class="sheet-longAttr">
          <div class="sheet-largeModifier">
            <div class="sheet-mod"><input type="number" disabled="" name="attr_Baddass_Rank0" value="(@{BARank})"></div>
            <div class="sheet-small">
              <p>Baddass Rank</p>
            </div>
          </div>
          <p>+</p>
          <div class="sheet-largeModifier">
            <div class="sheet-mod"><input type="number" disabled="" name="attr_SPD_Mod0" value="(@{spd_mod})"></div>
            <div class="sheet-small">
              <p>SPD Mod</p>
            </div>
          </div>
          <p>+</p>
          <div class="sheet-largeModifier">
            <div class="sheet-mod"><input type="number" name="attr_MISC_Mod0" value="0"></div>
            <div class="sheet-small">
              <p>MISC Mod</p>
            </div>
          </div>
          <p>=</p>
          <div class="sheet-modifier" style="width: 40px;">
            <div class="sheet-mod"><input name="attr_calculated0" type="number" disabled=""
                value="(@{Baddass_Rank0})+(@{SPD_Mod0})+(@{MISC_Mod0})"></div>
            <p class="sheet-small"></p>
          </div>
        </div><span class="sheet-gunBar">
          <p>Current Gun</p>
        </span><span class="sheet-gunBar">
          <p>Gun Slot 2</p>
        </span><span class="sheet-gunBar">
          <p>Gun Slot 3</p>
        </span>
        <h2 class="sheet-oneRow sheet-longAttrHeader" style="grid-column: 9 / span 2;">Movement</h2>
        <div class="sheet-longAttr" style="grid-column: 11 / span 4;">
          <div class="sheet-largeModifier">
            <div class="sheet-mod"><input type="number" disabled="" name="attr_static_mod1" value="3"></div>
            <div class="sheet-small">
              <p>static mod</p>
            </div>
          </div>
          <p>+</p>
          <div class="sheet-largeModifier">
            <div class="sheet-mod"><input type="number" disabled="" name="attr_SPD_Mod1" value="(@{spd_mod})"></div>
            <div class="sheet-small">
              <p>SPD Mod</p>
            </div>
          </div>
          <p>+</p>
          <div class="sheet-largeModifier">
            <div class="sheet-mod"><input type="number" name="attr_MISC_Mod1" value="0"></div>
            <div class="sheet-small">
              <p>MISC Mod</p>
            </div>
          </div>
          <p>=</p>
          <div class="sheet-modifier" style="width: 40px;">
            <div class="sheet-mod"><input name="attr_calculated1" type="number" disabled=""
                value="(@{static_mod1})+(@{SPD_Mod1})+(@{MISC_Mod1})"></div>
            <p class="sheet-small"></p>
          </div>
        </div>
        <div class="sheet-health" style="grid-row: 7 / span 4;">
          <div class="sheet-headerCurMaxMod">
            <h3 class="sheet-header">health</h3>
            <div class="sheet-contentRow">
              <div class="sheet-mainAndLabelBox sheet-current"><input class="sheet-main" type="number"
                  name="attr_cur_health" value="1">
                <p class="sheet-lbel">current</p>
              </div>
              <div class="sheet-mainAndLabelBox sheet-max"><input class="sheet-main" type="number"
                  name="attr_cur_health_max" value="25">
                <p class="sheet-lbel">max</p>
              </div>
              <div class="sheet-mainAndLabelBox sheet-mod"><input class="sheet-main" type="number"
                  name="attr_health_regen" value="0">
                <p class="sheet-lbel">Regen</p>
              </div>
            </div>
          </div>
        </div>
        <div class="sheet-checks" style="grid-row: 7 / span 15;">
          <p class="sheet-header">Checks</p>
          <div class="sheet-checksItem">
            <h2 class="sheet-checksItemTitle">Interact</h2>
            <div class="sheet-val1 sheet-longModifier">
              <p class="sheet-small">acc <br>mod</p><input class="sheet-mod" type="number" disabled="" name="attr_acc0"
                value="(@{acc_mod})">
            </div>
            <p>+</p>
            <div class="sheet-val2 sheet-longModifier">
              <p class="sheet-small">misc <br>mod</p><input class="sheet-mod" type="number" name="attr_misc0" value="0">
            </div>
            <p>=</p>
            <div class="sheet-val3 sheet-largeModifier">
              <div class="sheet-mod"><input type="number" disabled="" name="attr_calculatedLong0"
                  value="(@{acc0})+(@{misc0})"></div>
            </div>
          </div>
          <div class="sheet-checksItem">
            <h2 class="sheet-checksItemTitle">Talk</h2>
            <div class="sheet-val1 sheet-longModifier">
              <p class="sheet-small">spd <br>mod</p><input class="sheet-mod" type="number" disabled="" name="attr_spd1"
                value="(@{spd_mod})">
            </div>
            <p>+</p>
            <div class="sheet-val2 sheet-longModifier">
              <p class="sheet-small">misc <br>mod</p><input class="sheet-mod" type="number" name="attr_misc1" value="0">
            </div>
            <p>=</p>
            <div class="sheet-val3 sheet-largeModifier">
              <div class="sheet-mod"><input type="number" disabled="" name="attr_calculatedLong1"
                  value="(@{spd1})+(@{misc1})"></div>
            </div>
          </div>
          <div class="sheet-checksItem">
            <h2 class="sheet-checksItemTitle">Insight</h2>
            <div class="sheet-val1 sheet-longModifier">
              <p class="sheet-small">acc <br>mod</p><input class="sheet-mod" type="number" disabled="" name="attr_acc2"
                value="(@{acc_mod})">
            </div>
            <p>+</p>
            <div class="sheet-val2 sheet-longModifier">
              <p class="sheet-small">misc <br>mod</p><input class="sheet-mod" type="number" name="attr_misc2" value="0">
            </div>
            <p>=</p>
            <div class="sheet-val3 sheet-largeModifier">
              <div class="sheet-mod"><input type="number" disabled="" name="attr_calculatedLong2"
                  value="(@{acc2})+(@{misc2})"></div>
            </div>
          </div>
          <div class="sheet-checksItem">
            <h2 class="sheet-checksItemTitle">Sneak</h2>
            <div class="sheet-val1 sheet-longModifier">
              <p class="sheet-small">MST <br>mod</p><input class="sheet-mod" type="number" disabled="" name="attr_MST3"
                value="(@{mst_mod})">
            </div>
            <p>+</p>
            <div class="sheet-val2 sheet-longModifier">
              <p class="sheet-small">misc <br>mod</p><input class="sheet-mod" type="number" name="attr_misc3" value="0">
            </div>
            <p>=</p>
            <div class="sheet-val3 sheet-largeModifier">
              <div class="sheet-mod"><input type="number" disabled="" name="attr_calculatedLong3"
                  value="(@{MST3})+(@{misc3})"></div>
            </div>
          </div>
          <div class="sheet-checksItem">
            <h2 class="sheet-checksItemTitle">Search</h2>
            <div class="sheet-val1 sheet-longModifier">
              <p class="sheet-small">MST <br>mod</p><input class="sheet-mod" type="number" disabled="" name="attr_MST4"
                value="(@{mst_mod})">
            </div>
            <p>+</p>
            <div class="sheet-val2 sheet-longModifier">
              <p class="sheet-small">misc <br>mod</p><input class="sheet-mod" type="number" name="attr_misc4" value="0">
            </div>
            <p>=</p>
            <div class="sheet-val3 sheet-largeModifier">
              <div class="sheet-mod"><input type="number" disabled="" name="attr_calculatedLong4"
                  value="(@{MST4})+(@{misc4})"></div>
            </div>
          </div>
          <div class="sheet-checksItem">
            <h2 class="sheet-checksItemTitle">Traverse</h2>
            <div class="sheet-val1 sheet-longModifier">
              <p class="sheet-small">SPD <br>mod</p><input class="sheet-mod" type="number" disabled="" name="attr_SPD5"
                value="(@{spd_mod})">
            </div>
            <p>+</p>
            <div class="sheet-val2 sheet-longModifier">
              <p class="sheet-small">misc <br>mod</p><input class="sheet-mod" type="number" name="attr_misc5" value="0">
            </div>
            <p>=</p>
            <div class="sheet-val3 sheet-largeModifier">
              <div class="sheet-mod"><input type="number" disabled="" name="attr_calculatedLong5"
                  value="(@{SPD5})+(@{misc5})"></div>
            </div>
          </div>
        </div>
        <div class="sheet-melee" style="grid-row: 9 / span 4;">
          <h3 class="sheet-header">Melee Die</h3>
          <div class="sheet-row1">
            <div class="sheet-die"><select name="attr_dtype" class="dtype">
                <option value="d4">d4</option>
                <option value="d6">d6</option>
                <option value="d8">d8</option>
                <option value="d10">d10</option>
                <option value="d12">d12</option>
              </select></div>
            <div class="sheet-dmgmd sheet-modifier">
              <div class="sheet-mod"><input name="attr_melee_dmgmd" type="number" disabled="" value="(@{dmg_mod})">
              </div>
              <p class="sheet-small">+DMG</p>
            </div>
          </div>
        </div>
        <div class="sheet-shields" style="grid-row: 11 / span 7;">
          <div class="sheet-row1">
            <div class="sheet-headerCurMaxMod" style="border: none;">
              <h3 class="sheet-header">shields</h3>
              <div class="sheet-contentRow">
                <div class="sheet-mainAndLabelBox sheet-current"><input class="sheet-main" type="number"
                    name="attr_current_shields" value="2">
                  <p class="sheet-lbel">current</p>
                </div>
                <div class="sheet-mainAndLabelBox sheet-max"><input class="sheet-main" type="number"
                    name="attr_current_shields_max" value="15">
                  <p class="sheet-lbel">max</p>
                </div>
                <div class="sheet-mainAndLabelBox sheet-mod"><input class="sheet-main" type="number"
                    name="attr_shields_regen" value="5">
                  <p class="sheet-lbel">Recharge</p>
                </div>
              </div>
            </div>
          </div>
          <div class="sheet-row2"><span class="sheet-shieldInput">
              <h5>shield type: </h5>
              <p><input type="text" name="attr_shield_type"></p>
            </span><span class="sheet-shieldInput">
              <h5>info: </h5><textarea name="attr_shield_info" style="resize: none;"></textarea>
            </span></div>
        </div>
        <div class="sheet-grenades">
          <div class="sheet-header">
            <h3>Grenades</h3>
          </div>
          <div class="sheet-row1">
            <div class="sheet-type"><input type="text" name="attr_grenade_type">
              <p>TYPE</p>
            </div>
            <div class="sheet-damage"><input type="number" name="attr_grenade_damage">
              <p>DAMAGE</p>
            </div>
          </div>
          <div class="sheet-row2">
            <div class="sheet-info">
              <p>INFO</p><textarea name="attr_grenade_info" style="resize: none;"></textarea>
            </div>
            <div class="sheet-current"><input type="number" name="attr_grenade_current">
              <p>CURRENT</p>
            </div>
            <div class="sheet-max"><input type="number" name="attr_grenade_mx">
              <p>MAX</p>
            </div>
          </div>
        </div>
        <div class="sheet-potions">
          <div class="sheet-header">
            <h3>Potions</h3>
          </div>
          <div class="sheet-txtbox"><input type="text" name="attr_potions_1"></div>
          <div class="sheet-txtbox"><input type="text" name="attr_potions_2"></div>
          <div class="sheet-txtbox"><input type="text" name="attr_potions_3"></div>
          <div class="sheet-txtbox sheet-lockable"><input name="attr_potions_4" type="text" value="	"></div>
          <div class="sheet-txtbox sheet-lockable"><input name="attr_potions_5" type="text" value="	"></div>
        </div>
        <div class="sheet-BARank">
          <div class="sheet-header">
            <h3>Baddass Rank</h3><input type="number" name="attr_BARank" value="1">
          </div>
          <div class="sheet-tokens">
            <p>Badass Tokens</p><input type="number" name="attr_BATokens">
          </div>
        </div>
        <div class="sheet-gold" style="grid-row: 17 / span 3;">
          <div class="sheet-header">
            <h3>Gold</h3>
          </div>
          <div class="sheet-value"><input name="attr_goldVal" type="number" class="sheet-value" value="0"></div>
        </div>
        <div class="sheet-skills">
          <div class="sheet-header">
            <h3>Skills</h3>
          </div>
          <div class="sheet-itemWrapper">
            <div class="sheet-item">
              <div class="sheet-itemHeader"><input type="text" name="attr_skillname_1" value="Quick Draw"></div>
              <div class="sheet-content"><textarea name="attr_skillcontent_1"
                  style="resize: none;">+2 Initiative Mod/SL.,[object Object],+1/SL on Interact Checks</textarea></div>
              <div class="sheet-level"><input type="checkbox" title="level1" name="attr_skillLevel1_1" value="1"><input
                  type="checkbox" title="level3" name="attr_skillLevel1_2" value="1"><input type="checkbox"
                  title="level2" name="attr_skillLevel1_3" value="1"></div>
            </div>
            <div class="sheet-item">
              <div class="sheet-itemHeader"><input type="text" name="attr_skillname_2" value="Filled to The Brim"></div>
              <div class="sheet-content"><textarea name="attr_skillcontent_2"
                  style="resize: none;">Increase max grenades by 1/SL. Increase max potions by 1+MST Mod</textarea>
              </div>
              <div class="sheet-level"><input type="checkbox" title="level1" name="attr_skillLevel2_1" value="1"><input
                  type="checkbox" title="level3" name="attr_skillLevel2_2" value="1"><input type="checkbox"
                  title="level2" name="attr_skillLevel2_3" value="1"></div>
            </div>
            <div class="sheet-item">
              <div class="sheet-itemHeader"><input type="text" name="attr_skillname_3" value="Incite"></div>
              <div class="sheet-content"><textarea name="attr_skillcontent_3"
                  style="resize: none;">The first time you take Damage during an encounter, gain Extra Movement. +1/SL on Traverse Checks.</textarea>
              </div>
              <div class="sheet-level"><input type="checkbox" title="level1" name="attr_skillLevel3_1" value="1"><input
                  type="checkbox" title="level3" name="attr_skillLevel3_2" value="1"><input type="checkbox"
                  title="level2" name="attr_skillLevel3_3" value="1"></div>
            </div>
            <div class="sheet-item">
              <div class="sheet-itemHeader"><input type="text" name="attr_skillname_4" value="Hard to Kill"></div>
              <div class="sheet-content"><textarea name="attr_skillcontent_4"
                  style="resize: none;">10+MST Mod Health.,[object Object],+5 Health Regen/SL.</textarea></div>
              <div class="sheet-level"><input type="checkbox" title="level1" name="attr_skillLevel4_1" value="1"><input
                  type="checkbox" title="level3" name="attr_skillLevel4_2" value="1"><input type="checkbox"
                  title="level2" name="attr_skillLevel4_3" value="1"></div>
            </div>
          </div>
        </div>
        <div class="sheet-bgtraits">
          <div class="sheet-header">
            <h3>Background &amp; Traits</h3>
          </div>
          <div class="sheet-bgbox">
            <div class="sheet-bgbar">
              <p>Background</p>
            </div>
            <div class="sheet-bginfo"><textarea class="" style="resize: none;"></textarea></div>
          </div>
          <div class="sheet-traitsbox">
            <div class="sheet-traitsbar">
              <p>Traits</p>
            </div>
            <div class="sheet-traitsinfo"><textarea class="" style="resize: none;"></textarea></div>
          </div>
        </div>
        <div class="sheet-favoredGun">
          <div class="sheet-header">
            <h4>Favored Gun</h4>
          </div><label class="sheet-gunItem"><input type="checkbox" name="attr_selected_gun1"><img
              src="https://raw.githubusercontent.com/chrehall68/character-sheet/main/public/images/pistol.png"
              alt="pistol">
            <p>PISTOL</p>
          </label><label class="sheet-gunItem"><input type="checkbox" name="attr_selected_gun2"><img
              src="https://raw.githubusercontent.com/chrehall68/character-sheet/main/public/images/smg.png" alt="smg">
            <p>SMG</p>
          </label><label class="sheet-gunItem"><input type="checkbox" name="attr_selected_gun3"><img
              src="https://raw.githubusercontent.com/chrehall68/character-sheet/main/public/images/combat%20rifle.png"
              alt="combat rifle">
            <p>COMBAT RIFLE</p>
          </label><label class="sheet-gunItem"><input type="checkbox" name="attr_selected_gun4"><img
              src="https://raw.githubusercontent.com/chrehall68/character-sheet/main/public/images/shotgun.png"
              alt="shotgun">
            <p>SHOTGUN</p>
          </label><label class="sheet-gunItem"><input type="checkbox" name="attr_selected_gun5"><img
              src="https://raw.githubusercontent.com/chrehall68/character-sheet/main/public/images/sniper.png"
              alt="sniper">
            <p>SNIPER</p>
          </label><label class="sheet-gunItem"><input type="checkbox" name="attr_selected_gun6"><img
              src="https://raw.githubusercontent.com/chrehall68/character-sheet/main/public/images/rocket%20launcher.png"
              alt="rocket launcher">
            <p>ROCKET LAUNCHER</p>
          </label>
        </div>
        <div class="sheet-archetypeFeat">
          <h3>Archetype Feat</h3><textarea name="attr_archetypeFeat" style="resize: none;"></textarea>
        </div>
        <div class="sheet-xpbar">
          <div class="sheet-xpstuff">
            <h5 class="sheet-lbel">XP Bar</h5>
            <div class="sheet-curMax"><label class="sheet-content">
                <p>Cur:</p><input name="attr_curxp" type="number" value="0">
              </label><label class="sheet-content">
                <p>Max:</p><input name="attr_maxxp" type="number" value="100">
              </label></div>
          </div>
          <div class="sheet-barstuff"><input name="attr_curxpholder" type="hidden" disabled=""
              class="sheet-valholder sheet-hidden" value="(@{curxpval})">
            <div class="sheet-bar"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/worker">
    on("sheet:opened change:curxp change:maxxp", function() {  
      getAttrs(["curxp", "maxxp"], function(values) {
        var curxp = parseInt(values.curxp)||0;
        var maxxp = parseInt(values.maxxp)||0;
        setAttrs({                            
          "curxpval": Math.min(Math.max(parseInt(curxp * 100 / maxxp), 0), 100)
        });
      });
    });
  </script>
</body>